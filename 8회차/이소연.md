# 41장. 타이머

### 타이머 함수: 호출 스케줄링

일정 시간 이후에 호출되도록 함수 호출을 예약하는 것

- 타이머 함수는 빌트인 함수가 아니라 호스트 객체다.
- 자바스크립트 엔진은 싱글 스레드로 동작하기 때문에 타이머 함수는 비동기 처리 방식으로 동작한다.

#### 1. `setTimeout / clearTimeout`

```js
// delay 후, 타이머가 만료되면 콜백 함수가 호출됨
const timertId = setTimeout(func | code[, delay, param1, param2, ...]);


// 타이머 취소
clearTimeout(timerId);
```

- `func`: 타이머가 만료된 후 호툴될 콜백 함수
- `delay`: 타이머 만료 시간, 최소 지연 시간은 4ms
- `반환 값`: 타이머 id (브라우저 - 숫자, Node.js - 객체)

#### 2. `setInterval / clearInterval`

```js
// delay 후, 타이머가 만료될 때마다 콜백 함수가 호출됨
const timertId = setInterval(func | code[, delay, param1, param2, ...]);

// 타이머 취소
clearInterval(timerId);
```

<br/>

### 이벤트 핸들러의 성능 문제 해결법

#### 1. 디바운스

- 이벤트가 연속해서 발생하면, 일정 시간이 경과한 이후에 이벤트 핸들러가 한 번만 호출되도록 한다.
- resize 이벤트 처리, input 요소에 입력 값으로 ajax 요청하는 입력 필드 자동완성 UI 구현, 버튼 중복 클릭 방지 처리

#### 2. 스로틀

- 일정 시간 간격으로 이벤트 해들러가 최대 한 번만 호출되도록 한다.
- scroll 이벤트 처리, 무한 스크롤 UI 구현

<br/>
<br/>

# 42장. 비동기 프로그래밍

### 동기 처리와 비동기 처리

- 동기

  - 현재 실행 중인 태스크가 종료할 때까지 다음에 실행될 태스크가 대기하는 방식
  - 태스크들이 블로킹 되는 단점

- 비동기
  - 현재 실행 중인 태스크가 종료되지 않은 상태라 해도, 다음 태스크를 곧바로 실행
  - 태스크의 실행 순서가 보장되지 않는 단점
  - 타이머 함수, HTTP 요청, 이벤트 핸들러

<br/>

### 이벤트 루프와 태스크 큐

> 이벤트 루프는 브라우저에 내장되어 있는 기능으로, 자바스크립트의 동시성을 지원한다.

### 자바스크립트 엔진의 2가지 영역은 다음과 같다.

#### 1. 콜 스택

- 소스코드 평가 과정에서 생성된 실행 컨텍스트의 스택

#### 2. 힙

- 객체가 저장되는 메모리 공간
- 콜 스택의 요소인 실행 컨텍스트는 힙에 저장된 객체를 참조한다.

<br/>

자바스크립트 엔진은 태스크가 요청되면 콜 스택을 통해 요청된 작업을 순차적으로 처리한다.

비동기 처리에서 이 작업을 제외한 모든 처리는 자바스크립트 엔진을 구동하는 환경인 브라우저 또는 Node.js 가 담당한다.

### 브라우저가 제공하는 2가지 기능은 다음과 같다.

#### 1. 태스크 큐

- 비동기 함수의 콜백 함수 또는 이벤트 핸들러가 일시적으로 보관되는 영역이다.

#### 2. 이벤트 루프

- 콜 스택에 현재 실행 중인 실행 컨텍스트가 있는지, 태스크 큐에 대기 중인 함수가 있는지 반복해서 확인한다.
- 콜 스택이 비어 있다면, 이벤트 루프는 순차적으로 태스크 큐에 대기 중인 함수를 콜 스택으로 이동시킨다.

자바스크립트 엔진은 싱글 스레드로 동작하지만 브라우저는 멀티 스레드로 동작한다.
<br/>
<br/>

# 43장. Ajax

> 브라우저가 서버에게 비동기 방식으로 데이터를 요청하고, 서버가 응답한 데이터를 수신하여 웹페이지를 동적으로 갱신하는 프로그래밍 방식

- Web API인 XMLHTTPRequest 방식으로 동작한다. 이는 HTTP 비동기 통신을 위한 메서드와 프로퍼티를 제공한다.
- 다음과 같은 장점이 있다.
  - 불필요한 데이터 통신 발생 x
  - 불필요한 부분 리렌더링 x
  - 클라이언트와 서버가 비동기 방식으로 동작 -> 블로킹 발생 x

### JSON

#### 1. `JSON.stringfy`

- 객체를 JSON 포맷의 문자열로 변환한다.

#### 2. `JSON.parse`

- JSON 포맷의 문자열을 객체로 변환한다.

<br/>

### XMLHttpRequest

자바스크립트를 사용하여 HTTP 요청을 전송하려면 XMLHttpRequest 객체를 사용한다.

<br/>
<br/>

# 44장. REST API

> REST는 HTTP 기반으로 클라이언트가 서버의 리소스에 접근하는 방식을 규정한 아키텍처이며, REST API는 REST를 기반으로 서비스 API를 구현한 것이다.

### 구성 요소

- 자원: URI (엔드 포인트)
- 행위: HTTP 요청 메서드
- 표현: 페이로드

### 설계 원칙

1. URI는 리소스를 표현해야 한다.
2. 리소스에 대한 행위는 HTTP 요청 메서드로 표현한다.

<br/>
<br/>

# 45장. 프로미스

### 콜백 패턴의 단점: 콜백 헬

<br/>

### 프로미스의 생성

<br/>

### 프로미스의 후속 처리 메서드

#### 1. `Promise.prototype.then`

#### 2. `Promise.prototype.catch`

#### 3. `Promise.prototype.finally`

<br/>

### 프로미스의 에러 처리

<br/>

### 프로미스 체이닝

<br/>

### 프로미스의 정적 메서드

#### 1. `Promise.resolve` / `Promise.reject`

#### 2. `Promise.all`

#### 3. `Promise.race`

#### 2. `Promise.allSettled`

<br/>

### 마이크로태스크 큐

### fetch
